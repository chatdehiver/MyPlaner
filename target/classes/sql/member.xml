<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="member-mapper">														

	<insert id="regist" parameterType="Member">
		INSERT INTO member(
			nickname, id, password, birth, gender, mail,regist_date
		) VALUES(
			#{nickname}, #{id}, #{password}, #{birth}, #{gender}, #{mail}, sysdate
		)
	</insert>
	
	<insert id="registKakao" parameterType="Member">
		INSERT INTO member(
			nickname, kakao_id, birth, gender, mail, regist_date
		) VALUES(
			#{nickname}, #{kakaoId}, #{birth}, #{gender}, #{mail}, sysdate
		)
	</insert>
	
	<insert id="blockMember" parameterType="BlockMember">
		INSERT INTO member(
			nickname, block_nickname
		) VALUES(
			#{nickname}, #{blockNickname}
		)
	</insert>
	
	<select id="idCheck" parameterType="string" resultType="int">
		SELECT count(-1) FROM member WHERE id = #{value}
	</select>
	
	<select id="nicknameCheck" parameterType="string" resultType="int">
		SELECT count(-1) FROM member WHERE nickname = #{value}
	</select>
	
	<select id="login" parameterType="Member" resultType="Member">
		SELECT 
			id, kakao_id, password, birth, gender, mail, regist_date
		FROM member 
		WHERE id = #{id} AND password = #{password}
	</select>
	
	<select id="checkKakaoId" parameterType="string">
		SELECT count(-1) FROM member WHERE kakao_id = #{value}
	</select>
	
</mapper>



































